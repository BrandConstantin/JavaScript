<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Ejercicio 3</title>
	<script type="text/javascript">
		//iniciar variables
		var numAleatorio;
		var intentos;
		var contador;
		var intervalo;
		var tiempoAgotado;

		//Funcion inicial
		function iniciar(){
			intentos = 0;
			numAleatorio = Math.floor((Math.random() * 10) + 1);
			console.log(numAleatorio);
			tiempoAgotado = false;
			contador = 15;
			document.getElementById("tiempoRestante").innerHTML = contador;
			clearInterval(intervalo);
			//Lanzamos el interval
			//llama a la función muestra cada 1seg
			intervalo = setInterval("mostrar()", 1000);
		}

		function mostrar(){
			//decremento
			contador--;
			//Actualizo el valor de pantalla
			document.getElementById("tiempoRestante").innerHTML = contador;
			//Si contador = 0 paramos
			if (contador <= 0){
				 clearInterval(intervalo);
				 document.getElementById("tiempoRestante").innerHTML = "Tiempo agotado";
				 tiempoAgotado = true;
			}
		}

		function comprobarNumero(){
			if (!tiempoAgotado){
				var numeroIntrod = document.getElementById("numeroIntrod").value;
				intentos++;
				if (numAleatorio == numeroIntrod){
					document.getElementById("mensaje").innerHTML = "HAS ACERTADO";
					document.getElementById("intentos").innerHTML = intentos;
					clearInterval(intervalo);
				}else 
					document.getElementById("mensaje").innerHTML = "NO LO CONSEGUISTE";
					document.getElementById("intentos").innerHTML = intentos;
			}
		}
	</script>
</head>
<body>
	<table>
		<thead>
			<tr>
				<th><h3>La cuenta atras empieza al pulsar OK (tienes 15 segundos para adivinar el número):</h3></th>
			</tr>
			<tr>
				<th><hr style="border:3px solid black" /></th>
			</tr>
		</thead>
		<tfoot>
			<td><h3>Intentos: </h3><div id="intentos"></div></td>
			<td><h3>Mensaje: </h3><div id="mensaje"></div></td>
		</tfoot>
		<tbody>
			<tr>
				<td><h3>Inicia la cuenta atras: </h3><input type="button" id="start" value="START" onclick="iniciar()" /></td>
				<td><h3>Tiempo Restante: <div id="tiempoRestante"><div></h3></td>
			</tr>
			<tr>
				<td><h3>Introduce número aqui: </h3><input type="text" id="numeroIntrod" /></td>
				<td><h3>Comprobar: </h3><button id="Comprueba" onclick="comprobarNumero()">Comprueba</td>
			</tr>
		</tbody>
	</table>
    <hr style="border:3px solid black" />
</body>
</html>